<!DOCTYPE html>
<html>
<head>
    <title>PresetManager Demo</title>
    <link rel="stylesheet" href="PresetManager.css">
    <style>
        #demo {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Preview panel for seeing variable effects */
        .preview-panel {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div id="demo"></div>
    <div class="preview-panel">
        <h3>Preview Panel</h3>
        <p>This area shows the effects of CSS variables</p>
    </div>
<script type="module">
    import { CONFIG } from '/src/config.js';
    // Set mock mode for demo
    CONFIG.USE_MOCK_SERVICES = true;
    
    import { PresetManager } from '/src/components/presetManager/presetManager.js';
    import { VariableEditor } from '/src/components/variableEditor/variableEditor.js';
    import { VariableManager } from '/src/components/variableManager/variableManager.js';

    // Setup demo CSS variables
    const manager = new VariableManager();
    manager.loadFromCss(`
        :root {
            --primary-color: #ff0000;
            --spacing: 1rem;
            --opacity: 0.5;
            --border-radius: 4px;
        }
    `);

    // Initialize editor
    const editor = new VariableEditor(
        document.getElementById('demo'),
        manager
    );
    editor.render();

    // Access PresetManager for direct testing
    const presetManager = editor.presetManager;
    
    // Example: Create a test preset
    const testPreset = {
        name: "Test Theme",
        variables: {
            "--primary-color": "#00ff00",
            "--spacing": "2rem"
        }
    };
    
    // Apply preset to preview panel
    document.querySelector('.preview-panel').style.cssText = `
        background-color: var(--primary-color);
        padding: var(--spacing);
        opacity: var(--opacity);
        border-radius: var(--border-radius);
    `;

    // Inside script module, after editor.render():
    editor.updatePreview(); // Initial preview update
</script>
</html>
