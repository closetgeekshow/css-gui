<!DOCTYPE html>
<html>
<head>
    <title>Range Input Demo</title>
    <style>
        .input-container {
            margin: 20px;
            padding: 10px;
            border: 1px solid #ccc;
        }
        .range-controls {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Range Input Demo</h1>
    
    <div class="input-container">
        <label>Opacity Variable (--opacity):</label>
        <input type="range" id="rangeInput" min="0" max="1" step="0.1">
        <span id="currentValue"></span>
        
        <div class="range-controls">
            <label>Min: <input type="number" id="minInput" value="0"></label>
            <label>Max: <input type="number" id="maxInput" value="1"></label>
            <label>Step: <input type="number" id="stepInput" value="0.1"></label>
        </div>
        
        <div id="result"></div>
    </div>

    <script type="module">
        import { RangeInput } from './rangeInput.js';

        const rangeInput = document.getElementById('rangeInput');
        const currentValue = document.getElementById('currentValue');
        const result = document.getElementById('result');
        const minInput = document.getElementById('minInput');
        const maxInput = document.getElementById('maxInput');
        const stepInput = document.getElementById('stepInput');

        const input = new RangeInput('--opacity', '0.5', (variable, value) => {
            result.textContent = `${variable}: ${value}`;
            currentValue.textContent = value;
        });

        rangeInput.value = input.numericValue;
        updateValue();

        rangeInput.addEventListener('input', updateValue);
        
        [minInput, maxInput, stepInput].forEach(el => {
            el.addEventListener('change', () => {
                input.setRange(
                    parseFloat(minInput.value),
                    parseFloat(maxInput.value),
                    parseFloat(stepInput.value)
                );
                rangeInput.min = minInput.value;
                rangeInput.max = maxInput.value;
                rangeInput.step = stepInput.value;
            });
        });

        function updateValue() {
            input.handleChange(rangeInput.value);
        }
    </script>
</body>
</html>
